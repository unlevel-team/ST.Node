{"version":3,"sources":["nodeEngine/ActuatorEngine.js"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;AASA,IAAI,eAAe,QAAQ,QAAR,EAAkB,YAArC;;;;;AAOA,IAAM,2BAA2B;;AAEhC,WAAW;AACV,kBAAiB,QADP;AAEV,iBAAgB,OAFN;AAGV,mBAAkB,SAHR;AAIV,gBAAe;AAJL,EAFqB;;AAUhC,WAAW;AACV,mBAAkB,WADR;AAEV,mBAAkB,gBAFR;;AAIV,0BAAyB,UAJf;AAKV,yBAAwB,SALd;;AAQV,kBAAiB;;AARP;;AAVqB,CAAjC;;;;;;IA6BM,c;AAEL,yBAAY,MAAZ,EAAoB;AAAA;;AAEnB,OAAK,MAAL,GAAc,MAAd;AACA,OAAK,SAAL,GAAiB,IAAjB;;AAEA,OAAK,KAAL,GAAa,yBAAyB,MAAzB,CAAgC,YAA7C;;AAGA,OAAK,SAAL,GAAiB,wBAAjB;;AAEA,OAAK,YAAL,GAAoB,IAAI,YAAJ,EAApB;AAEA;;;;;;;;;+BAMY;;AAEZ,OAAI,iBAAiB,IAArB;;AAEA,kBAAe,YAAf,CAA4B,EAA5B,CAAgC,eAAe,SAAf,CAAyB,MAAzB,CAAgC,aAAhE,EAA+E,YAAW;AACzF,kBAAe,eAAe,SAA9B;AACA,mBAAe,KAAf,GAAuB,eAAe,SAAf,CAAyB,MAAzB,CAAgC,WAAvD;AACA,IAHD;;AAKA,kBAAe,KAAf,GAAuB,eAAe,SAAf,CAAyB,MAAzB,CAAgC,WAAvD;AACA;;;;;;;;6BAMU;AACT,OAAI,iBAAiB,IAArB;;AAEA,OAAK,eAAe,KAAf,IAAwB,eAAe,SAAf,CAAyB,MAAzB,CAAgC,WAA7D,EAA2E;AAC1E,UAAM,WAAN;AACA;;AAED,kBAAe,KAAf,GAAuB,eAAe,SAAf,CAAyB,MAAzB,CAAgC,aAAvD;;AAEA,kBAAe,SAAf,GAA2B,YAAY,YAAM;AAC5C,QAAI,eAAe,KAAf,IAAwB,eAAe,SAAf,CAAyB,MAAzB,CAAgC,aAA5D,EAA2E;AAC1E,oBAAe,YAAf,CAA4B,IAA5B,CAAiC,eAAe,SAAf,CAAyB,MAAzB,CAAgC,aAAjE;AACA,KAFD,MAEO;AACN,oBAAe,YAAf,CAA4B,IAA5B,CAAiC,eAAe,SAAf,CAAyB,MAAzB,CAAgC,aAAjE;AACA;AACD,IAN0B,EAMxB,eAAe,MAAf,CAAsB,QANE,CAA3B;AAQD;;;;;;;;iCAKc;AACd,OAAI,iBAAiB,IAArB;AACA,kBAAe,YAAf,CAA4B,IAA5B,CAAiC,eAAe,SAAf,CAAyB,MAAzB,CAAgC,aAAjE;AACA;;;gCAGa,CAGb;;;+BAGY,CAEZ;;;+BAGY;AACZ,UAAO,EAAP;AACA;;;6BAGU,O,EAAS,CAEnB;;;;;;AAMF,OAAO,OAAP,GAAiB,cAAjB","file":"nodeEngine/ActuatorEngine.js","sourcesContent":["\"use strict\";\r\n\r\n/**\r\n * ActuatorEngine\r\n * \r\n * Generic process for an Actuator\r\n * \r\n */\r\n\r\nlet EventEmitter = require('events').EventEmitter;\r\n\r\n\r\n\r\n/**\r\n * SensorEngine CONSTANTS\r\n */\r\nconst ActuatorEngine_CONSTANTS = {\r\n\t\t\r\n\t\"States\" : {\r\n\t\t\"State_Config\" : \"config\",\r\n\t\t\"State_Ready\" : \"ready\",\r\n\t\t\"State_Working\" : \"working\",\r\n\t\t\"State_Stop\" : \"stop\"\r\n\t},\r\n\t\r\n\t\r\n\t\"Events\" : {\r\n\t\t\"MainLoop_Tick\" : \"Main Loop\",\r\n\t\t\"MainLoop_Stop\" : \"Main Loop Stop\",\r\n\t\t\r\n\t\t\"ActuatorEngine_Start\" : \"AE start\",\r\n\t\t\"ActuatorEngine_Stop\" : \"AE stop\",\r\n\r\n\t\t\r\n\t\t\"ActuatorData\" : \"Actuator Data\"\r\n\t\t\r\n\t},\r\n\t\t\r\n}\r\n\r\n\r\n\r\n/**\r\n * Actuator Engine\r\n */\r\nclass ActuatorEngine {\r\n\t\r\n\tconstructor(config) {\r\n\t\t\r\n\t\tthis.config = config;\r\n\t\tthis._mainLoop = null;\r\n\t\t\r\n\t\tthis.state = ActuatorEngine_CONSTANTS.States.State_Config;\r\n\r\n\t\t\r\n\t\tthis.CONSTANTS = ActuatorEngine_CONSTANTS;\r\n\t\t\r\n\t\tthis.eventEmitter = new EventEmitter();\r\n\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Initialize\r\n\t */\r\n\tinitialize() {\r\n\t\t\r\n\t\tlet actuatorEngine = this;\r\n\t\t\r\n\t\tactuatorEngine.eventEmitter.on( actuatorEngine.CONSTANTS.Events.MainLoop_Stop, function() {\r\n\t\t\tclearInterval( actuatorEngine._mainLoop );\r\n\t\t\tactuatorEngine.state = actuatorEngine.CONSTANTS.States.State_Ready;\r\n\t\t});\r\n\t\t\r\n\t\tactuatorEngine.state = actuatorEngine.CONSTANTS.States.State_Ready;\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Main loop\r\n\t */\r\n\tmainLoop() {\r\n\t  let actuatorEngine = this;\r\n\t  \r\n\t  if ( actuatorEngine.state != actuatorEngine.CONSTANTS.States.State_Ready ) {\r\n\t\t  throw \"Bad state\";\r\n\t  }\r\n\t  \r\n\t  actuatorEngine.state = actuatorEngine.CONSTANTS.States.State_Working;\r\n\t  \r\n\t  actuatorEngine._mainLoop = setInterval(() => {\r\n\t\t  if (actuatorEngine.state == actuatorEngine.CONSTANTS.States.State_Working) {\r\n\t\t\t  actuatorEngine.eventEmitter.emit(actuatorEngine.CONSTANTS.Events.MainLoop_Tick);\r\n\t\t  } else {\r\n\t\t\t  actuatorEngine.eventEmitter.emit(actuatorEngine.CONSTANTS.Events.MainLoop_Stop);\r\n\t\t  }\r\n\t  }, actuatorEngine.config.loopTime);\r\n\t  \r\n\t}\r\n\t\r\n\t/**\r\n\t * Stop main loop\r\n\t */\r\n\tstopMainLoop() {\r\n\t\tlet actuatorEngine = this;\r\n\t\tactuatorEngine.eventEmitter.emit(actuatorEngine.CONSTANTS.Events.MainLoop_Stop);\r\n\t}\r\n\t\r\n\t\r\n\tstartEngine() {\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\tstopEngine() {\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\tgetOptions() {\r\n\t\treturn {};\r\n\t}\r\n\t\r\n\t\r\n\tsetOptions(options) {\r\n\t\t\r\n\t}\r\n}\r\n\r\n\r\n\r\n\r\nmodule.exports = ActuatorEngine;\r\n\r\n"],"sourceRoot":"C:\\Users\\Felipe\\Documents\\Work\\SomeThings\\dev\\NLVL_STNode\\es6"}